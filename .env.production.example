# ========================================
# 临时邮箱系统 - 生产环境配置示例
# ========================================
# 复制此文件为 .env.production 并填入真实值
# 注意：不要将包含真实密码的 .env.production 提交到 Git

# ========================================
# JWT 密钥配置（必填）
# ========================================
# JWT 签名密钥（至少32字符，建议使用随机生成）
# 生成方法：openssl rand -base64 32
JWT_SECRET=change-this-to-a-secure-random-string-at-least-32-characters-long

# JWT 签发者
JWT_ISSUER=tempmail-production

# Token 过期时间
JWT_ACCESS_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h

# ========================================
# PostgreSQL 数据库配置（必填）
# ========================================
POSTGRES_DB=tempmail
POSTGRES_USER=tempmail
# 数据库密码（强密码，建议至少16字符）
# 生成方法：openssl rand -base64 16
POSTGRES_PASSWORD=change-this-to-a-secure-password

# 数据库连接池配置
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ========================================
# Redis 配置（必填）
# ========================================
# Redis 密码（强密码，建议至少16字符）
REDIS_PASSWORD=change-this-to-a-secure-redis-password
REDIS_DB=0

# ========================================
# SMTP 服务器配置（必填）
# ========================================
# SMTP 域名（你的域名）
SMTP_DOMAIN=temp.mail

# 允许的邮箱域名列表（逗号分隔）
ALLOWED_DOMAINS=temp.mail,tempmail.dev

# ========================================
# 邮箱策略配置
# ========================================
# 邮箱默认过期时间
MAILBOX_DEFAULT_TTL=24h

# 每个 IP 最大邮箱数量
MAILBOX_MAX_PER_IP=10

# ========================================
# HTTP/CORS 配置
# ========================================
# HTTP 端口
HTTP_PORT=8080

# SMTP 端口（注意：25端口需要 root 权限）
SMTP_PORT=25

# CORS 允许的来源（生产环境请设置具体域名）
# 示例：https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_ORIGINS=*

# ========================================
# 日志配置
# ========================================
LOG_LEVEL=info
LOG_DEVELOPMENT=false

# ========================================
# 部署配置（GitHub Actions 使用）
# ========================================
# 服务器配置（在 GitHub Secrets 中设置）
# SERVER_HOST=your-server-ip
# SERVER_USER=your-ssh-user
# SERVER_SSH_KEY=your-private-ssh-key
# DEPLOY_PATH=/opt/tempmail
